{"version":3,"sources":["../../../src/intrinsics/ecma262/BooleanPrototype.js"],"names":["realm","obj","$BooleanData","intrinsics","false","defineNativeMethod","target","context","getType","codeTemplate","createAbstract","topVal","a","preludeGenerator","A","b","value"],"mappings":";;;;;;ypBAAA;;;;;;;;;kBAiBe,UAASA,KAAT,EAAuBC,GAAvB,EAA+C;AAC5D;AACAA,MAAIC,YAAJ,GAAmBF,MAAMG,UAAN,CAAiBC,KAApC;;AAEA;AACAH,MAAII,kBAAJ,CAAuB,UAAvB,EAAmC,CAAnC,EAAsC,mBAAW;AAC/C,QAAMC,SAASC,wCAAiCA,QAAQL,YAAzC,GAAwDK,OAAvE;AACA,QAAID,0CAAmCA,OAAOE,OAAP,0BAAvC,EAA0E;AACxE,UAAMC,eAAe,gBAArB;AACA,aAAOT,MAAMU,cAAN,CAAqB,2CAArB,EAAmD,qBAAaC,MAAhE,EAAwE,CAACL,MAAD,CAAxE,EAAkF;AAAA;AAAA,YAAEM,CAAF;;AAAA,eACvF,uBAAwBH,YAAxB,EAAsCT,MAAMa,gBAA5C,EAA8D,EAAEC,GAAGF,CAAL,EAA9D,CADuF;AAAA,OAAlF,CAAP;AAGD;AACD;AACA,QAAIG,IAAI,0BAAiBf,KAAjB,EAAwBO,OAAxB,CAAR;;AAEA;AACA,WAAO,uBAAgBP,KAAhB,EAAuBe,EAAEC,KAAF,GAAU,MAAV,GAAmB,OAA1C,CAAP;AACD,GAbD;;AAeA;AACAf,MAAII,kBAAJ,CAAuB,SAAvB,EAAkC,CAAlC,EAAqC,mBAAW;AAC9C;AACA,WAAO,0BAAiBL,KAAjB,EAAwBO,OAAxB,CAAP;AACD,GAHD;AAID,C;;AA9BD;;AACA;;AACA;;AACA","file":"BooleanPrototype.js","sourcesContent":["/**\n * Copyright (c) 2017-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\n\nimport type { Realm } from \"../../realm.js\";\nimport { ObjectValue, StringValue, AbstractValue, BooleanValue } from \"../../values/index.js\";\nimport { thisBooleanValue } from \"../../methods/to.js\";\nimport { TypesDomain, ValuesDomain } from \"../../domains/index.js\";\nimport buildExpressionTemplate from \"../../utils/builder.js\";\n\nexport default function(realm: Realm, obj: ObjectValue): void {\n  // ECMA262 19.3.1\n  obj.$BooleanData = realm.intrinsics.false;\n\n  // ECMA262 19.3.3.3\n  obj.defineNativeMethod(\"toString\", 0, context => {\n    const target = context instanceof ObjectValue ? context.$BooleanData : context;\n    if (target instanceof AbstractValue && target.getType() === BooleanValue) {\n      const codeTemplate = \"(A).toString()\";\n      return realm.createAbstract(new TypesDomain(StringValue), ValuesDomain.topVal, [target], ([a]) =>\n        buildExpressionTemplate(codeTemplate)(realm.preludeGenerator)({ A: a })\n      );\n    }\n    // 1. Let b be ? thisBooleanValue(this value).\n    let b = thisBooleanValue(realm, context);\n\n    // 2. If b is true, return \"true\"; else return \"false\".\n    return new StringValue(realm, b.value ? \"true\" : \"false\");\n  });\n\n  // ECMA262 19.3.3.4\n  obj.defineNativeMethod(\"valueOf\", 0, context => {\n    // 1. Return ? thisBooleanValue(this value).\n    return thisBooleanValue(realm, context);\n  });\n}\n"]}